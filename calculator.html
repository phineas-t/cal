<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5241710070882300"
      crossorigin="anonymous"
    ></script>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Calculator — Calcify</title>
    <meta
      name="description"
      content="Clean basic calculator — add, subtract, multiply, divide, parentheses and percent."
    />
    <style>
      /* 1. GLOBAL RESET */
      *,
      *::before,
      *::after {
        box-sizing: border-box;
      }

      :root {
        --primary: #2563eb;
        --card-bg: rgba(201, 221, 243, 0.9);
        --bg1: rgba(201, 221, 243, 0.9);
        --bg2: #f7f9fc;
        font-family: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI",
          Roboto, Helvetica, Arial, sans-serif;
      }

      html,
      body {
        margin: 0;
        min-height: 100vh;
        width: 100%;
        display: flex;
        flex-direction: column;
      }

      body {
        background: linear-gradient(135deg, var(--bg1), var(--bg2));
        overflow-x: hidden;
      }

      /* 2. HEADER STYLES (Copied from bmi.html) */
      header {
        width: 100%;
        background: rgba(183, 212, 244, 0.9);
        padding: 16px; /* Reduced padding slightly to save space */
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        position: sticky;
        top: 0;
        z-index: 50;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .brand {
        display: flex;
        align-items: center;
        gap: 1px; /* Adjusted gap to match header style */
        margin-bottom: 0; /* Remove old margin from non-header style */
      }

      .brand strong {
        color: var(--primary);
        font-size: 36px; /* Adjusted font size to match header style */
        font-weight: 700;
        letter-spacing: -0.5px;
      }

      /* 3. MAIN CONTENT WRAPPER */
      .wrap {
        width: 320px;
        /* Animation to make it pop in smoothly */
        animation: fadeUp 0.5s ease-out;
        /* Center the calculator within the remaining body space */
        margin: auto;
        flex-shrink: 0;
        padding-top: 20px; /* Add some space below the sticky header */
      }

      .card {
        background: var(--card-bg);
        padding: 20px;
        border-radius: 20px; /* Softer rounded corners */
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.08);
      }

      .display {
        height: 60px;
        background: #f2f6ff;
        border-radius: 12px;
        padding: 0 15px;
        font-size: 24px;
        font-weight: 500;
        color: #1e293b;
        display: flex;
        align-items: center;
        justify-content: flex-end;
        overflow: hidden;
        margin-bottom: 15px;
      }

      .keys {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 12px;
      }

      button.key {
        padding: 15px;
        border-radius: 12px;
        border: none;
        background: #fff;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.03);
        font-size: 18px;
        font-weight: 600;
        color: #333;
        cursor: pointer;
        transition: transform 0.1s, background 0.2s;
      }

      button.key:active {
        transform: scale(0.95);
      }

      button.key:hover {
        background: #f9fafb;
      }

      button.opp {
        background: #3b82f6;
        color: white;
      }

      button.opp:hover {
        background: #2563eb;
      }

      button.wide {
        grid-column: span 2;
      }

      .back-link {
        display: block;
        margin-top: 15px;
        text-align: center;
        color: #64748b;
        text-decoration: none;
        font-size: 14px;
        transition: color 0.2s;
      }

      .back-link:hover {
        color: #3b82f6;
      }

      footer {
        margin-top: auto; /* Push footer to the very bottom */
        padding: 20px;
        text-align: center;
        color: #94a3b8;
        font-size: 12px;
      }

      @keyframes fadeUp {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
    </style>
  </head>
  <body>
    <header>
      <a href="index.html" style="text-decoration: none">
        <div class="brand">
          <svg
            width="42"
            height="42"
            viewBox="0 0 64 64"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <defs>
              <linearGradient
                id="brandGradient"
                x1="32"
                y1="4"
                x2="32"
                y2="60"
                gradientUnits="userSpaceOnUse"
              >
                <stop stop-color="#4F86F7" />
                <stop offset="1" stop-color="#2563EB" />
              </linearGradient>
              <filter
                id="softShadow"
                x="0"
                y="0"
                width="64"
                height="64"
                filterUnits="userSpaceOnUse"
              >
                <feDropShadow
                  dx="0"
                  dy="4"
                  stdDeviation="3"
                  flood-opacity="0.15"
                />
              </filter>
            </defs>
            <rect
              x="12"
              y="8"
              width="40"
              height="52"
              rx="10"
              fill="url(#brandGradient)"
              filter="url(#softShadow)"
            />
            <rect
              x="18"
              y="16"
              width="28"
              height="10"
              rx="3"
              fill="white"
              fill-opacity="0.9"
            />
            <circle cx="22" cy="36" r="3.5" fill="white" fill-opacity="0.9" />
            <circle cx="32" cy="36" r="3.5" fill="white" fill-opacity="0.9" />
            <circle cx="42" cy="36" r="3.5" fill="white" fill-opacity="0.9" />
            <circle cx="22" cy="47" r="3.5" fill="white" fill-opacity="0.9" />
            <circle cx="32" cy="47" r="3.5" fill="white" fill-opacity="0.9" />
            <circle cx="42" cy="47" r="3.5" fill="white" fill-opacity="0.9" />
          </svg>

          <strong>Calcify</strong>
        </div>
      </a>
    </header>
    <div class="wrap">
      <div class="card">
        <div id="disp" class="display">0</div>

        <div class="keys">
          <button class="key" onclick="press('7')">7</button>
          <button class="key" onclick="press('8')">8</button>
          <button class="key" onclick="press('9')">9</button>
          <button class="key opp" onclick="press('/')">÷</button>

          <button class="key" onclick="press('4')">4</button>
          <button class="key" onclick="press('5')">5</button>
          <button class="key" onclick="press('6')">6</button>
          <button class="key opp" onclick="press('*')">×</button>

          <button class="key" onclick="press('1')">1</button>
          <button class="key" onclick="press('2')">2</button>
          <button class="key" onclick="press('3')">3</button>
          <button class="key opp" onclick="press('-')">−</button>

          <button class="key" onclick="press('0')">0</button>
          <button class="key" onclick="press('.')">.</button>
          <button class="key" onclick="press('%')">%</button>
          <button class="key opp" onclick="press('+')">+</button>

          <button class="key wide" onclick="clearAll()" style="color: #ef4444">
            C
          </button>
          <button class="key wide opp" onclick="compute()">=</button>
        </div>

        <a href="index.html" class="back-link">← Back to Home</a>
      </div>

      <footer>© 2025 Calcify</footer>
    </div>

    <script>
      let expr = "";
      const disp = document.getElementById("disp");
      function press(x) {
        // Prevent two operators in a row (basic)
        if (expr.length === 0 && ["+", "-", "*", "/", "%", "."].includes(x))
          return;
        const last = expr.slice(-1);
        if (
          ["+", "-", "*", "/", "%", "."].includes(last) &&
          ["+", "-", "*", "/", "%", "."].includes(x)
        ) {
          // replace last
          expr = expr.slice(0, -1) + x;
        } else {
          expr += x;
        }
        update();
      }
      function update() {
        disp.innerText = expr || "0";
      }
      function clearAll() {
        expr = "";
        update();
      }
      function compute() {
        if (!expr) return;
        try {
          const safe = expr.replace(/%/g, "/100");
          const res = Function('"use strict"; return (' + safe + ")")();
          expr = String(res);
          update();
        } catch (e) {
          disp.innerText = "Error";
        }
      }
      // keyboard support
      window.addEventListener("keydown", (e) => {
        if (
          (e.key >= "0" && e.key <= "9") ||
          ["+", "-", "/", "*", ".", "%", "(", ")"].includes(e.key)
        )
          press(e.key);
        else if (e.key === "Enter") compute();
        else if (e.key === "Backspace") {
          expr = expr.slice(0, -1);
          update();
        } else if (e.key === "Escape") clearAll();
      });
    </script>
  </body>
</html>
